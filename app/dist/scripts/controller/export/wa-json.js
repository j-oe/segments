define(["controller/store","config/params"],function(e,n){var t={label:"Web Annotation (JSON)",extension:"json",filename:"WebAnnotation"};return{register:function(){return t},condition:function(){return e.classifiedData&&0!==e.classifiedData.length},execute:function(){var t=new Worker(n.getParam("waWorkerURL"));return new Promise(function(n,a){t.addEventListener("error",function(e){a(e)}),t.addEventListener("message",function(a){a.data.ready?t.postMessage(["createAnnotations",e.classifiedData,e.classifiedFileSources,e.classifiedFileCurrentType,e.model.meta.modelID]):(t.terminate(),n(a.data))})})}}});